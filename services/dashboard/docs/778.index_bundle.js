"use strict";(self.webpackChunkreact_redux_rxjs_typescript=self.webpackChunkreact_redux_rxjs_typescript||[]).push([[778],{73778:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Ce});var a=l(67294),n=l(41120),r=l(41749),o=l(82302),c=l(99613),m=l(88222),i=l(56847),E=l(83750),s=l(57394),u=l(79895),d=l(17812),p=l(59067),y=l(95998),v=l(20573);const g=(0,v.P1)((e=>e.agenda),(e=>e.isLoading)),h=(0,v.P1)((e=>e.agenda),(e=>e.items));var b=l(7104),Z=l(282),T=l(52207);var C=l(63957),S=l(28428),I=l(16450),D=l(27484),f=l.n(D),L=l(98502),R=l(73586),_=l(61507),O=l(87293),A=l(87883),x=l(91372),N=l(30606),k=l(93001),U=l(21426),W=l(52663),Y=l(66856),M=l(29525),w=l(22318);function P({isOpen:e,handleCloseDeleteModal:t,agenda:l}){const n=(0,y.I0)();return a.createElement(a.Fragment,null,a.createElement(W.Z,{fullWidth:!0,maxWidth:"sm",open:e,"aria-labelledby":"max-width-dialog-title"},a.createElement(M.Z,null,a.createElement(w.Z,{variant:"h4",color:"textPrimary"},a.createElement(_.cC,null,"DELETE_WARNING"),a.createElement(_.cC,null,"SCHEDULE"),"?")),a.createElement(Y.Z,null,a.createElement(Z.Z,{onClick:t,color:"primary"},a.createElement(_.cC,null,"CLOSE")),a.createElement(Z.Z,{onClick:function(){var e;n((e={id:l.id},{type:T.i.DELETE_REQUEST,payload:e})),t()},variant:"contained",color:"primary",size:"small"},a.createElement(_.cC,null,"DELETE")))))}var V=l(1604);const H=V.Ry({id:V.Rx().optional(),destinationType:V.Z_(),contentId:V.Rx(),televisionId:V.Rx().optional().nullable(),labelId:V.Rx().optional().nullable(),startDate:V.hT(),endDate:V.hT(),cron:V.Z_(),content:V.Ry({id:V.Rx(),name:V.Z_()}).optional(),television:V.Ry({name:V.Z_()}).optional(),label:V.Ry({name:V.Z_()}).optional()}).superRefine(((e,t)=>{void 0===e.televisionId&&"TELEVISION"===e.destinationType&&t.addIssue({message:"Television must be specified",code:V.NL.custom,path:["televisionId"]}),void 0===e.labelId&&"LABEL"==e.destinationType&&t.addIssue({message:"Label must be specified",code:V.NL.custom,path:["labelId"]})}));var B=l(87536),Q=l(68842),$=l(92301),j=l(54283),F=l(18720),G=l(896),z=l(10586),J=l(50720),K=l(25117),q=l(70055),X=l(86010);const ee=({color:e,component:t="span",fontSize:l="14px",children:r,className:o,fontWeight:c="normal"})=>{const m=(i={fontSize:l,fontWeight:c},(0,n.Z)((e=>({typography:{fontSize:i.fontSize,fontWeight:i.fontWeight,wordBreak:"break-word",whiteSpace:"pre-wrap"},primary:{color:e.palette.primary.main},secondary:{color:e.palette.secondary.main},textPrimary:{color:e.palette.text.primary},textSecondary:{color:e.palette.text.secondary}}))))();var i;return a.createElement(t,{className:(0,X.Z)(o,m.typography,"textPrimary"===e&&m.textPrimary,"textSecondary"===e&&m.textSecondary,"primary"===e&&m.primary,"secondary"===e&&m.secondary)},r)},te=(0,n.Z)((e=>({borderColor:{border:"1px solid "+("light"===e.palette.type?"rgba(0, 0, 0, 0.12)":"rgba(206, 203, 203, 0.12)")},borderRadius:{borderRadius:"0.5em"}}))),le=({name:e,control:t,label:l})=>{const n=te(),{field:r}=(0,B.bc)({name:e,control:t}),[o,c]=a.useState(f()(r.value)),[m,i]=a.useState(f()(r.value)),{t:E}=(0,_.$G)();return a.useEffect((()=>{const e=`${f()(o).format("YYYY-MM-DD")}T${f()(m).format("HH:mm:ss")}`;console.log({dateTimeString:e});const t=new Date(e);console.log(t),r.onChange(t)}),[o,m]),a.createElement(j.Z,{fullWidth:!0,variant:"outlined"},a.createElement(J._,{dateAdapter:z.y},a.createElement(B.Qr,{name:e,control:t,render:()=>a.createElement(F.Z,{className:(0,X.Z)(n.borderColor,n.borderRadius),style:{padding:"1em",marginBottom:"1.5em"}},a.createElement(ee,null,l),a.createElement(G.C,{components:["DesktopDatePicker","DesktopTimePicker"]},a.createElement("div",{style:{width:"50%",display:"flex",justifyContent:"center"}},a.createElement(q.$,{label:E("DATE"),onChange:e=>e&&c(e),value:o})),a.createElement("div",{style:{width:"50%",display:"flex",justifyContent:"center"}},a.createElement(K.k,{label:E("TIME"),value:m,onChange:e=>e&&i(e)}))))})))};var ae=l(55255),ne=l(70655),re=l(64436),oe=l(43700),ce=l(26209),me=l(85639);const ie=e=>{var{value:t,onChange:l}=e,n=(0,ne._T)(e,["value","onChange"]);return a.createElement(re.Z,{fullWidth:!0,variant:"outlined"},a.createElement(oe.Z,null,a.createElement(_.cC,null,"EVERY")," ",a.createElement(_.cC,null,"MINUTE")),a.createElement(ce.Z,Object.assign({multiple:!0},n,{labelId:"demo-simple-select-label",onChange:l,value:t,label:"Minutes"}),[...Array(60).keys()].map((e=>a.createElement(me.Z,{key:e,value:e},e)))))},Ee=e=>{var{value:t,onChange:l}=e,n=(0,ne._T)(e,["value","onChange"]);return a.createElement(re.Z,{fullWidth:!0,variant:"outlined"},a.createElement(oe.Z,null,a.createElement(_.cC,null,"EVERY")," ",a.createElement(_.cC,null,"HOUR")),a.createElement(ce.Z,Object.assign({multiple:!0},n,{labelId:"demo-simple-select-label",onChange:l,value:t,label:"Hours"}),[...Array(24).keys()].map((e=>a.createElement(me.Z,{key:e,value:e},e)))))},se=e=>{var{value:t,onChange:l}=e,n=(0,ne._T)(e,["value","onChange"]);const{t:r}=(0,_.$G)();return a.createElement(re.Z,{fullWidth:!0,variant:"outlined"},a.createElement(oe.Z,null,a.createElement(_.cC,null,"EVERY")," ",a.createElement(_.cC,null,"WEEKDAY")),a.createElement(ce.Z,Object.assign({multiple:!0},n,{labelId:"demo-simple-select-label",onChange:l,value:t,label:"WeekDays"}),["SUN","MON","TUE","WED","THU","FRI","SAT"].map((e=>a.createElement(me.Z,{key:e,value:e},r(e))))))},ue=e=>{var{value:t,onChange:l}=e,n=(0,ne._T)(e,["value","onChange"]);return a.createElement(re.Z,{fullWidth:!0,variant:"outlined"},a.createElement(oe.Z,null,a.createElement(_.cC,null,"EVERY")," ",a.createElement(_.cC,null,"DAY_OF_MONTH")),a.createElement(ce.Z,Object.assign({multiple:!0},n,{labelId:"demo-simple-select-label",onChange:l,value:t,label:"Days"}),[...Array(32).keys()].slice(1).map((e=>a.createElement(me.Z,{key:e,value:e},e)))))},de=e=>{var{value:t,onChange:l}=e,n=(0,ne._T)(e,["value","onChange"]);const{t:r}=(0,_.$G)();return a.createElement(re.Z,{fullWidth:!0,variant:"outlined"},a.createElement(oe.Z,null,a.createElement(_.cC,null,"EVERY")," ",a.createElement(_.cC,null,"MONTH")),a.createElement(ce.Z,Object.assign({multiple:!0},n,{labelId:"demo-simple-select-label",onChange:l,value:t,label:"Months"}),["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"].map((e=>a.createElement(me.Z,{key:e,value:e},r(e))))))},pe=(0,n.Z)((e=>({borderColor:{border:"1px solid "+("light"===e.palette.type?"rgba(0, 0, 0, 0.12)":"rgba(206, 203, 203, 0.12)")},borderRadius:{borderRadius:"0.5em"}}))),ye=({name:e,control:t,label:l})=>{const n=pe(),{field:o}=(0,B.bc)({name:e,control:t}),c=ge(o.value),[m,i]=(0,a.useState)(c.months),[E,s]=(0,a.useState)(c.days),[u,d]=(0,a.useState)(c.weekDays),[p,y]=(0,a.useState)(c.hours),[v,g]=(0,a.useState)(c.minutes);return(0,a.useEffect)((()=>{const e=ve(v,p,E,m,u);o.onChange(e)}),[v,p,E,m,u]),a.createElement(j.Z,{fullWidth:!0,variant:"outlined"},a.createElement(J._,{dateAdapter:z.y},a.createElement(B.Qr,{name:e,control:t,render:()=>a.createElement(F.Z,{className:(0,X.Z)(n.borderColor,n.borderRadius),style:{padding:"1em",marginBottom:"1.0em"}},a.createElement(ee,null,l),a.createElement(r.Z,{container:!0,spacing:1},a.createElement(r.Z,{item:!0,xs:6},a.createElement(de,{value:m,onChange:e=>{i(e.target.value)}})),a.createElement(r.Z,{item:!0,xs:6},a.createElement(ue,{value:E,onChange:e=>{s(e.target.value),d([])}})),a.createElement(r.Z,{item:!0,xs:12},a.createElement(se,{value:u,onChange:e=>{d(e.target.value),s([])}})),a.createElement(r.Z,{item:!0,xs:6},a.createElement(Ee,{value:p,onChange:e=>y(e.target.value)})),a.createElement(r.Z,{item:!0,xs:6},a.createElement(ie,{value:v,onChange:e=>g(e.target.value)}))))})))},ve=(e,t,l,a,n)=>`0 ${0===e.length?"*":e.sort().toString()} ${0===t.length?"*":t.sort().toString()} ${0===l.length?n.length>0?"?":"*":l.sort().toString()} ${0===a.length?"*":a.toString()} ${0===n.length?l.length>=0?"?":"*":n.sort().toString()}`,ge=e=>{if(e){const t=e.split(" ");return{minutes:"*"===t[1]||"?"===t[1]?[]:t[1].split(","),hours:"*"===t[2]||"?"===t[2]?[]:t[2].split(","),days:"*"===t[3]||"?"===t[3]?[]:t[3].split(","),months:"*"===t[4]||"?"===t[4]?[]:t[4].split(","),weekDays:"*"===t[5]||"?"===t[5]?[]:t[5].split(",")}}return{minutes:[],hours:[],weekDays:[],days:[],months:[]}};var he=l(30553),be=l(46653);function Ze({handleCloseEditModal:e,agenda:t,title:l}){const n=Object.assign({televisionId:void 0,labelId:void 0,startDate:new Date,endDate:new Date,destinationType:"TELEVISION"},(0,ae.H)(t)),[o,c]=(0,a.useState)(!t||!(t.startDate===t.endDate&&"0 * * * * ?"===t.cron)),m=(0,y.v9)(U.v),i=(0,y.v9)(x.Y),E=(0,y.v9)(O.I),s=(0,B.cI)({resolver:(0,Q.F)(H),defaultValues:n}),{reset:u,handleSubmit:d,watch:p,control:v,setValue:g,getValues:h}=s;(0,a.useEffect)((()=>{o||(g("endDate",new Date(h("startDate"))),g("cron","0 * * * * ?"))}),[o,p("startDate")]);const{t:b}=(0,_.$G)(),C=(0,y.I0)();a.useEffect((()=>{C((0,k.b8)()),C((0,N.BO)()),C((0,A.Dp)())}),[C]);return a.createElement(a.Fragment,null,a.createElement(W.Z,{fullWidth:!0,maxWidth:"sm",open:!0,"aria-labelledby":"max-width-dialog-title"},a.createElement(M.Z,null,a.createElement(w.Z,{variant:"h4",color:"textPrimary"},b(l)," ",b("SCHEDULE")),a.createElement("br",null),a.createElement(r.Z,{container:!0,spacing:2},a.createElement(r.Z,{item:!0,xs:12},a.createElement($.U,{fullWidth:!0,label:b("CONTENT"),name:"contentId",control:v,selectOptions:m.map((e=>({label:e.name,value:e.id})))})),a.createElement(r.Z,{item:!0,xs:12},a.createElement($.U,{fullWidth:!0,label:b("TYPE_OF_AGENDA"),name:"destinationType",control:v,selectOptions:["LABEL","TELEVISION"].map((e=>({label:b(e),value:e})))})),"TELEVISION"===p("destinationType")&&a.createElement(r.Z,{item:!0,xs:12},a.createElement($.U,{fullWidth:!0,label:b("TELEVISION"),name:"televisionId",control:v,selectOptions:i.map((e=>({label:e.name,value:e.id})))})),"LABEL"===p("destinationType")&&a.createElement(r.Z,{item:!0,xs:12},a.createElement($.U,{fullWidth:!0,label:b("LABEL"),name:"labelId",control:v,selectOptions:E.map((e=>({label:e.name,value:e.id})))}))),a.createElement("br",null),a.createElement(le,{name:"startDate",control:v,label:b("START_DATE")}),a.createElement(he.Z,{label:b("CRONTAB"),control:a.createElement(be.Z,{onChange:()=>{c(!o)},checked:o})}),o&&a.createElement(a.Fragment,null,a.createElement(ye,{name:"cron",control:v,label:b("CRONTAB")}),a.createElement(le,{name:"endDate",control:v,label:b("END_DATE")}))),a.createElement(Y.Z,null,a.createElement(Z.Z,{onClick:()=>{u(),e()},color:"primary"},a.createElement(_.cC,null,"CLOSE")),a.createElement(Z.Z,{onClick:d((l=>{var a;C(t?(e=>({type:T.i.EDIT_REQUEST,payload:e}))(l):(a=l,{type:T.i.CREATE_REQUEST,payload:a})),e()})),variant:"contained",color:"primary",size:"small"},a.createElement(_.cC,null,"SAVE")))))}const Te=(0,n.Z)({table:{minWidth:650}});function Ce(){const e=Te(),t=(0,y.I0)(),l=(0,R.K)(),{t:n}=(0,_.$G)();a.useEffect((()=>{var e;t((0,k.b8)()),t((0,A.Dp)()),t((0,N.BO)()),t((e={query:l?`search=${l}`:""},{type:T.i.LIST_ALL_REQUEST,payload:e}))}),[t,l]);const v=(0,y.v9)(g),D=(0,y.v9)(h),W=(0,y.v9)(O.I),Y=(0,y.v9)(x.Y),M=(0,y.v9)(U.v),[w,V]=a.useState(!1),[H,B]=a.useState(null),[Q,$]=a.useState(null),[j,F]=a.useState("Titulo");return v?a.createElement(b.CircularProgress,null):a.createElement(a.Fragment,null,a.createElement(r.Z,{container:!0,alignItems:"center"},a.createElement(r.Z,{item:!0,sm:8},a.createElement("h2",null,a.createElement(I.c,null,"SCHEDULE"))),a.createElement(r.Z,{item:!0,sm:4,container:!0,justifyContent:"flex-end"},a.createElement(Z.Z,{variant:"contained",color:"primary",size:"small",startIcon:a.createElement(C.Z,null),onClick:()=>{F("CREATE"),V(!0)}},a.createElement(I.c,null,"NEW")))),a.createElement(L.R,{searches:[{type:"Multi",name:"content.name",placeholder:n("CONTENT"),options:M.map((e=>e.name))},{type:"Multi",name:"television.name",placeholder:n("TELEVISION"),options:Y.map((e=>e.name))},{type:"Multi",name:"label.name",placeholder:n("LABEL"),options:W.map((e=>e.name))}]}),a.createElement("br",null),a.createElement(i.Z,{component:u.Z},a.createElement(o.Z,{className:e.table,"aria-label":"simple table"},a.createElement(E.Z,null,a.createElement(s.Z,null,a.createElement(m.Z,null,a.createElement(I.c,null,"CONTENT")),a.createElement(m.Z,null,a.createElement(I.c,null,"TELEVISION")),a.createElement(m.Z,null,a.createElement(I.c,null,"LABEL")),a.createElement(m.Z,null,a.createElement(I.c,null,"START_DATE")),a.createElement(m.Z,null,a.createElement(I.c,null,"END_DATE")),a.createElement(m.Z,null,a.createElement(I.c,null,"ACTION")))),a.createElement(c.Z,null,D.map((e=>{var t,l,n;return a.createElement(s.Z,{key:e.contentId},a.createElement(m.Z,null,null===(t=e.content)||void 0===t?void 0:t.name),a.createElement(m.Z,{component:"th",scope:"row"},(null===(l=e.television)||void 0===l?void 0:l.name)||"-"),a.createElement(m.Z,{component:"th",scope:"row"},(null===(n=e.label)||void 0===n?void 0:n.name)||"-"),a.createElement(m.Z,null,f()(e.startDate.toLocaleString()).format("YYYY-MM-DD HH:mm:ss")),a.createElement(m.Z,null,f()(e.endDate.toLocaleString()).format("YYYY-MM-DD HH:mm:ss")),a.createElement(m.Z,null,a.createElement(d.Z,{onClick:()=>{F("EDIT"),B(e)},color:"primary","aria-label":"edit agenda",component:"span"},a.createElement(p.Z,null)),a.createElement(d.Z,{onClick:()=>{$(e)},color:"primary","aria-label":"delete agenda",component:"span"},a.createElement(S.Z,null))))}))))),(!!H||w)&&a.createElement(Ze,{title:j,agenda:H,handleCloseEditModal:function(){B(null),V(!1)}}),a.createElement(P,{isOpen:!!Q,agenda:Q,handleCloseDeleteModal:function(){$(null)}}))}},87883:(e,t,l)=>{l.d(t,{Dp:()=>n,SP:()=>c,_:()=>r,rK:()=>o});var a=l(69292);const n=e=>({type:a.I.LIST_ALL_REQUEST,payload:e}),r=e=>({type:a.I.CREATE_REQUEST,payload:e}),o=e=>({type:a.I.EDIT_REQUEST,payload:e}),c=e=>({type:a.I.DELETE_REQUEST,payload:e})},87293:(e,t,l)=>{l.d(t,{I:()=>r,y:()=>n});var a=l(20573);const n=(0,a.P1)((e=>e.label),(e=>e.isLoading)),r=(0,a.P1)((e=>e.label),(e=>e.items))},30606:(e,t,l)=>{l.d(t,{BO:()=>n,CH:()=>r,W1:()=>o,js:()=>m,uu:()=>c});var a=l(23746);const n=()=>({type:a.O.LIST_ALL_REQUEST}),r=e=>({type:a.O.LIST_ALL_JOIN_REQUEST,payload:e}),o=e=>({type:a.O.CREATE_REQUEST,payload:e}),c=e=>({type:a.O.EDIT_REQUEST,payload:e}),m=e=>({type:a.O.DELETE_REQUEST,payload:e})},91372:(e,t,l)=>{l.d(t,{K:()=>n,Y:()=>r});var a=l(20573);const n=(0,a.P1)((e=>e.television),(e=>e.isLoading)),r=(0,a.P1)((e=>e.television),(e=>e.items))}}]);